{"@t":"2025-06-27T18:13:14.7733433Z","@mt":"Registered model binder providers, in the following order: {ModelBinderProviders}","@l":"Debug","ModelBinderProviders":["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"],"EventId":{"Id":12,"Name":"RegisteredModelBinderProviders"},"SourceContext":"Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory"}
{"@t":"2025-06-27T18:13:14.8355884Z","@mt":"Hosting starting","@l":"Debug","EventId":{"Id":1,"Name":"Starting"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2025-06-27T18:13:14.8483254Z","@mt":"Middleware loaded","@l":"Debug","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware"}
{"@t":"2025-06-27T18:13:14.8507987Z","@mt":"Middleware loaded. Script {scriptPath} ({size} B).","@l":"Debug","scriptPath":"/_framework/aspnetcore-browser-refresh.js","size":"16509","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware"}
{"@t":"2025-06-27T18:13:14.8537249Z","@mt":"Middleware loaded. Script {scriptPath} ({size} B).","@l":"Debug","scriptPath":"/_framework/blazor-hotreload.js","size":"799","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware"}
{"@t":"2025-06-27T18:13:14.8787748Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"D:\\DEVHAWKZ\\Projekti\\MailFlow.API\\MailFlow.API\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2025-06-27T18:13:14.8852243Z","@mt":"Middleware configuration started with options: {Options}","@l":"Debug","Options":"{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}","EventId":{"Id":7,"Name":"MiddlewareConfigurationStarted"},"SourceContext":"Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware"}
{"@t":"2025-06-27T18:13:14.8881547Z","@mt":"Wildcard detected, all requests with hosts will be allowed.","@l":"Debug","EventId":{"Name":"WildcardDetected"},"SourceContext":"Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware"}
{"@t":"2025-06-27T18:13:14.8908458Z","@mt":"Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES={ModifiableAssemblies}, __ASPNETCORE_BROWSER_TOOLS={BrowserTools}","@l":"Debug","ModifiableAssemblies":"debug","BrowserTools":"true","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware"}
{"@t":"2025-06-27T18:13:14.9453303Z","@mt":"Now listening on: {address}","address":"https://localhost:7222","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:13:14.9465403Z","@mt":"Now listening on: {address}","address":"http://localhost:5037","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:13:14.9472597Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"MailFlow.API","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:13:14.9476928Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.WebTools.ApiEndpointDiscovery","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:13:14.9481069Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.AspNetCore.Watch.BrowserRefresh","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:13:14.9485475Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.WebTools.BrowserLink.Net","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:13:14.9543914Z","@mt":"Executing API description provider '{ProviderName}' from assembly {ProviderAssembly} v{AssemblyVersion}.","@l":"Debug","ProviderName":"EndpointMetadataApiDescriptionProvider","ProviderAssembly":"Microsoft.AspNetCore.Mvc.ApiExplorer","AssemblyVersion":"9.0.0.0","EventId":{"Id":2,"Name":"ApiDescriptionProviderExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider"}
{"@t":"2025-06-27T18:13:14.9559135Z","@mt":"Executing API description provider '{ProviderName}' from assembly {ProviderAssembly} v{AssemblyVersion}.","@l":"Debug","ProviderName":"DefaultApiDescriptionProvider","ProviderAssembly":"Microsoft.AspNetCore.Mvc.ApiExplorer","AssemblyVersion":"9.0.0.0","EventId":{"Id":2,"Name":"ApiDescriptionProviderExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider"}
{"@t":"2025-06-27T18:13:14.9853849Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ82","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:13:14.9853831Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ81","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:13:14.9904629Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:13:14.9907510Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ81","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:14.9907510Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ82","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:14.9911729Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:13:14.9924178Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ81","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:14.9925904Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ82","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:14.9930990Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"D:\\DEVHAWKZ\\Projekti\\MailFlow.API\\MailFlow.API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:13:14.9953966Z","@mt":"Hosting started","@l":"Debug","EventId":{"Id":2,"Name":"Started"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2025-06-27T18:13:15.0036552Z","@mt":"Failed to authenticate HTTPS connection.","@l":"Debug","@x":"System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.\r\n   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)\r\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)","EventId":{"Id":1,"Name":"AuthenticationFailed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware","ConnectionId":"0HNDLKP4FEQ82"}
{"@t":"2025-06-27T18:13:15.0035957Z","@mt":"Failed to authenticate HTTPS connection.","@l":"Debug","@x":"System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.\r\n   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)\r\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)","EventId":{"Id":1,"Name":"AuthenticationFailed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware","ConnectionId":"0HNDLKP4FEQ81"}
{"@t":"2025-06-27T18:13:15.0152756Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ81","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:15.0153539Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ82","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:15.0195005Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKP4FEQ82","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:13:15.0195006Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKP4FEQ81","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:13:15.1256145Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ83","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:15.1271535Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKP4FEQ83","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:13:15.1575524Z","@mt":"Connection {ConnectionId} established using the following protocol: {Protocol}","@l":"Debug","ConnectionId":"0HNDLKP4FEQ83","Protocol":"Tls13","EventId":{"Id":3,"Name":"HttpsConnectionEstablished"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware"}
{"@t":"2025-06-27T18:13:15.2013511Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKP4FEQ83:00000001","RequestPath":"/","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:15.2623720Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","Path":"/","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKP4FEQ83:00000001","RequestPath":"/","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:15.2727772Z","@mt":"No candidates found for the request path '{Path}'","@l":"Debug","@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","Path":"/","EventId":{"Id":1000,"Name":"CandidatesNotFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKP4FEQ83:00000001","RequestPath":"/","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:15.2737878Z","@mt":"Request did not match any endpoints","@l":"Debug","@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","EventId":{"Id":2,"Name":"MatchFailure"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKP4FEQ83:00000001","RequestPath":"/","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:15.2789813Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.5370"],"@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":0.537,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKP4FEQ83:00000001","RequestId":"0HNDLKP4FEQ83:00000001","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:15.2940204Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","ElapsedMilliseconds":93.9601,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKP4FEQ83:00000001","RequestPath":"/","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:15.2962719Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"de4a466ae9c99654c813964a3760d7f6","@sp":"8fc15aedd9c6a5cd","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKP4FEQ83:00000001","RequestPath":"/","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:17.2565149Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:17.2620557Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Path":"/api/gmail/labels","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:17.2668671Z","@mt":"{CandidateCount} candidate(s) found for the request path '{Path}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","CandidateCount":1,"Path":"/api/gmail/labels","EventId":{"Id":1001,"Name":"CandidatesFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:17.2684783Z","@mt":"Endpoint '{Endpoint}' with route pattern '{RoutePattern}' is valid for the request path '{Path}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Endpoint":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RoutePattern":"api/gmail/labels","Path":"/api/gmail/labels","EventId":{"Id":1005,"Name":"CandidateValid"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:17.2700995Z","@mt":"Request matched endpoint '{EndpointName}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"MatchSuccess"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:17.2729968Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2890096Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","RouteData":"{action = \"GetLabels\", controller = \"Gmail\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] GetLabels()","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2911181Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","FilterType":"authorization","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2920726Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","FilterType":"resource","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2934093Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","FilterType":"action","Filters":["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2943598Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","FilterType":"exception","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2950861Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","FilterType":"result","Filters":["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.2973222Z","@mt":"Executing controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":1,"Name":"ControllerFactoryExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.3635649Z","@mt":"An 'IServiceProvider' was created for internal use by Entity Framework.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","EventId":{"Id":10401,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ServiceProviderCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.3857643Z","@mt":"Executed controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":2,"Name":"ControllerFactoryExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.3893465Z","@mt":"Starting Gmail labels download and synchronization.","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","SourceContext":"LoggerService.LoggerManager","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.8342980Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}:{providerVersion}' with options: {options}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","version":"9.0.5","contextType":"DataContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","providerVersion":"9.0.4","options":"EngineType=SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:17.8883487Z","@mt":"Compiling query expression: {newline}'{queryExpression}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","newline":"\r\n","queryExpression":"DbSet<GoogleToken>()\r\n    .Where(t => t.UserId == 02d9cd73-990c-437c-827b-fac07e08ba09)\r\n    .AsNoTracking()\r\n    .OrderByDescending(t => t.ExpiresAt)\r\n    .SingleOrDefault()","EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.0789069Z","@mt":"Generated query execution expression: {newline}'{plan}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","newline":"\r\n","plan":"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<GoogleToken>(\r\n    asyncEnumerable: SingleQueryingEnumerable.Create<GoogleToken>(\r\n        relationalQueryContext: (RelationalQueryContext)queryContext, \r\n        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(\r\n            Projection Mapping:\r\n                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: GoogleToken.AccessToken (string) Required, 1], [Property: GoogleToken.ExpiresAt (DateTime) Required, 2], [Property: GoogleToken.RefreshToken (string) Required, 3], [Property: GoogleToken.UserId (Guid) Required FK Index, 4] }\r\n            SELECT TOP(2) g.Id, g.AccessToken, g.ExpiresAt, g.RefreshToken, g.UserId\r\n            FROM GoogleTokens AS g\r\n            WHERE g.UserId == '02d9cd73-990c-437c-827b-fac07e08ba09'\r\n            ORDER BY g.ExpiresAt DESC) | Resolver: c => new RelationalCommandCache(\r\n            c.Dependencies.MemoryCache, \r\n            c.RelationalDependencies.QuerySqlGeneratorFactory, \r\n            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, \r\n            Projection Mapping:\r\n                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: GoogleToken.AccessToken (string) Required, 1], [Property: GoogleToken.ExpiresAt (DateTime) Required, 2], [Property: GoogleToken.RefreshToken (string) Required, 3], [Property: GoogleToken.UserId (Guid) Required FK Index, 4] }\r\n            SELECT TOP(2) g.Id, g.AccessToken, g.ExpiresAt, g.RefreshToken, g.UserId\r\n            FROM GoogleTokens AS g\r\n            WHERE g.UserId == '02d9cd73-990c-437c-827b-fac07e08ba09'\r\n            ORDER BY g.ExpiresAt DESC, \r\n            False, \r\n            new HashSet<string>(\r\n                new string[]{ }, \r\n                StringComparer.Ordinal\r\n            )\r\n        )].GetRelationalCommandTemplate(parameters), \r\n        readerColumns: null, \r\n        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => \r\n        {\r\n            GoogleToken entity;\r\n            entity = \r\n            {\r\n                MaterializationContext materializationContext1;\r\n                IEntityType entityType1;\r\n                GoogleToken instance1;\r\n                materializationContext1 = new MaterializationContext(\r\n                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], \r\n                    queryContext.Context\r\n                );\r\n                instance1 = default(GoogleToken);\r\n                (object)dataReader.GetGuid(0) != null ? \r\n                {\r\n                    ISnapshot shadowSnapshot1;\r\n                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];\r\n                    entityType1 = [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")];\r\n                    instance1 = switch (entityType1)\r\n                    {\r\n                        case [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")]: \r\n                            {\r\n                                return \r\n                                {\r\n                                    GoogleToken instance;\r\n                                    instance = new GoogleToken();\r\n                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);\r\n                                    instance.<AccessToken>k__BackingField = dataReader.GetString(1);\r\n                                    instance.<ExpiresAt>k__BackingField = dataReader.GetDateTime(2);\r\n                                    instance.<RefreshToken>k__BackingField = dataReader.GetString(3);\r\n                                    instance.<UserId>k__BackingField = dataReader.GetGuid(4);\r\n                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(\r\n                                        context: materializationContext1.Context, \r\n                                        entity: instance, \r\n                                        queryTrackingBehavior: NoTracking, \r\n                                        structuralType: [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")]) : default(void);\r\n                                    return instance;\r\n                                }}\r\n                        default: \r\n                            default(GoogleToken)\r\n                    }\r\n                    ;\r\n                    return instance1;\r\n                } : \r\n                {\r\n                    object[] keyValues1;\r\n                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };\r\n                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(\r\n                        entityType: [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")], \r\n                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\").FindPrimaryKey().Properties], \r\n                        keyValues: keyValues1);\r\n                };\r\n                return instance1;\r\n            };\r\n            return entity;\r\n        }, \r\n        contextType: Repository.DataContext, \r\n        standAloneStateManager: False, \r\n        detailedErrorsEnabled: False, \r\n        threadSafetyChecksEnabled: True), \r\n    cancellationToken: queryContext.CancellationToken)","EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.1045721Z","@mt":"Creating DbConnection.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.1191976Z","@mt":"Created DbConnection. ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","elapsed":11,"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.1234481Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.2750838Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.2786511Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.2837065Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","executionType":"ExecuteReader","elapsed":3,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.2857405Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","executionType":"ExecuteReader","elapsed":7,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.2907464Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.3726575Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","elapsed":"81","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.3866087Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.3914862Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":14,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.3942349Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.3983930Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":4,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.4004377Z","@mt":"Fetching Gmail API response for path: {Path}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.4022938Z","@mt":"Sending GET request to Gmail API. Path: {Path}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.4051251Z","@mt":"Start processing HTTP request {HttpMethod} {Uri}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.4083509Z","@mt":"Sending HTTP request {HttpMethod} {Uri}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7326717Z","@mt":"Received HTTP response headers after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","ElapsedMilliseconds":321.3227,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7341550Z","@mt":"End processing HTTP request after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","ElapsedMilliseconds":329.9107,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7350243Z","@mt":"Gmail API responded. Status code: {StatusCode}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","StatusCode":"OK","SourceContext":"LoggerService.LoggerManager","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7420450Z","@mt":"Deserialization completed for Gmail labels.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","SourceContext":"LoggerService.LoggerManager","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7481897Z","@mt":"Compiling query expression: {newline}'{queryExpression}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","newline":"\r\n","queryExpression":"DbSet<GmailLabel>()\r\n    .Where(l => l.UserId.Equals(__userId_0))\r\n    .AsNoTracking()\r\n    .Select(l => l.Id)","EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7857527Z","@mt":"Generated query execution expression: {newline}'{plan}'","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","newline":"\r\n","plan":"queryContext => SingleQueryingEnumerable.Create<string>(\r\n    relationalQueryContext: (RelationalQueryContext)queryContext, \r\n    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(\r\n        Projection Mapping:\r\n            EmptyProjectionMember -> 0\r\n        SELECT g.Id\r\n        FROM GmailLabels AS g\r\n        WHERE g.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(\r\n        c.Dependencies.MemoryCache, \r\n        c.RelationalDependencies.QuerySqlGeneratorFactory, \r\n        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, \r\n        Projection Mapping:\r\n            EmptyProjectionMember -> 0\r\n        SELECT g.Id\r\n        FROM GmailLabels AS g\r\n        WHERE g.UserId == @__userId_0, \r\n        False, \r\n        new HashSet<string>(\r\n            new string[]{ }, \r\n            StringComparer.Ordinal\r\n        )\r\n    )].GetRelationalCommandTemplate(parameters), \r\n    readerColumns: null, \r\n    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => \r\n    {\r\n        string value1;\r\n        value1 = dataReader.GetString(0);\r\n        return value1;\r\n    }, \r\n    contextType: Repository.DataContext, \r\n    standAloneStateManager: False, \r\n    detailedErrorsEnabled: False, \r\n    threadSafetyChecksEnabled: True)","EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7907211Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7925767Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7935472Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7943870Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","executionType":"ExecuteReader","elapsed":0,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.7974207Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","executionType":"ExecuteReader","elapsed":3,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8005592Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8139485Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","elapsed":"15","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8164766Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8182988Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":2,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8194409Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8201936Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":0,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8250664Z","@mt":"SaveChanges starting for '{contextType}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","contextType":"DataContext","EventId":{"Id":10004,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8277199Z","@mt":"DetectChanges starting for '{contextType}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","contextType":"DataContext","EventId":{"Id":10800,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8303183Z","@mt":"DetectChanges completed for '{contextType}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","contextType":"DataContext","EventId":{"Id":10801,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8357449Z","@mt":"SaveChanges completed for '{contextType}' with {savedCount} entities written to the database.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","contextType":"DataContext","savedCount":0,"EventId":{"Id":10005,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8371460Z","@mt":"Successfully synced {Count} labels for UserId: {UserId}.","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","Count":19,"UserId":"02d9cd73-990c-437c-827b-fac07e08ba09","SourceContext":"LoggerService.LoggerManager","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8403702Z","@mt":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"003ab660-d10c-452e-bb0f-301cbd859dd0","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8437485Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","ElapsedMilliseconds":1545.4226,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8449124Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83","X-Correlation-ID":"0HNDLKP4FEQ83:00000003"}
{"@t":"2025-06-27T18:13:18.8459505Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1573.3715"],"@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","RequestMethod":"GET","RequestPath":"/api/gmail/labels","StatusCode":200,"Elapsed":1573.3715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKP4FEQ83:00000003","RequestId":"0HNDLKP4FEQ83:00000003","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:18.8494219Z","@mt":"'{contextType}' disposed.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","contextType":"DataContext","EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:18.8537363Z","@mt":"Disposing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:18.8565458Z","@mt":"Disposed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","database":"","server":"","elapsed":2,"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:13:18.8588438Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"be454a383a2ee5498f64312a6696dc8a","@sp":"52248160fc26a26a","ElapsedMilliseconds":1602.1343,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKP4FEQ83:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKP4FEQ83"}
{"@t":"2025-06-27T18:19:33.0380330Z","@mt":"Registered model binder providers, in the following order: {ModelBinderProviders}","@l":"Debug","ModelBinderProviders":["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"],"EventId":{"Id":12,"Name":"RegisteredModelBinderProviders"},"SourceContext":"Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory"}
{"@t":"2025-06-27T18:19:33.0938622Z","@mt":"Hosting starting","@l":"Debug","EventId":{"Id":1,"Name":"Starting"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2025-06-27T18:19:33.1078715Z","@mt":"Middleware loaded","@l":"Debug","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware"}
{"@t":"2025-06-27T18:19:33.1098224Z","@mt":"Middleware loaded. Script {scriptPath} ({size} B).","@l":"Debug","scriptPath":"/_framework/aspnetcore-browser-refresh.js","size":"16509","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware"}
{"@t":"2025-06-27T18:19:33.1113954Z","@mt":"Middleware loaded. Script {scriptPath} ({size} B).","@l":"Debug","scriptPath":"/_framework/blazor-hotreload.js","size":"799","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware"}
{"@t":"2025-06-27T18:19:33.1348540Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"D:\\DEVHAWKZ\\Projekti\\MailFlow.API\\MailFlow.API\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2025-06-27T18:19:33.1412063Z","@mt":"Middleware configuration started with options: {Options}","@l":"Debug","Options":"{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}","EventId":{"Id":7,"Name":"MiddlewareConfigurationStarted"},"SourceContext":"Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware"}
{"@t":"2025-06-27T18:19:33.1439871Z","@mt":"Wildcard detected, all requests with hosts will be allowed.","@l":"Debug","EventId":{"Name":"WildcardDetected"},"SourceContext":"Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware"}
{"@t":"2025-06-27T18:19:33.1459967Z","@mt":"Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES={ModifiableAssemblies}, __ASPNETCORE_BROWSER_TOOLS={BrowserTools}","@l":"Debug","ModifiableAssemblies":"debug","BrowserTools":"true","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware"}
{"@t":"2025-06-27T18:19:33.1970243Z","@mt":"Now listening on: {address}","address":"https://localhost:7222","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:19:33.1984340Z","@mt":"Now listening on: {address}","address":"http://localhost:5037","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:19:33.1990248Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"MailFlow.API","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:19:33.1996637Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.WebTools.ApiEndpointDiscovery","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:19:33.2001436Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.AspNetCore.Watch.BrowserRefresh","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:19:33.2005723Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.WebTools.BrowserLink.Net","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:19:33.2059516Z","@mt":"Executing API description provider '{ProviderName}' from assembly {ProviderAssembly} v{AssemblyVersion}.","@l":"Debug","ProviderName":"EndpointMetadataApiDescriptionProvider","ProviderAssembly":"Microsoft.AspNetCore.Mvc.ApiExplorer","AssemblyVersion":"9.0.0.0","EventId":{"Id":2,"Name":"ApiDescriptionProviderExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider"}
{"@t":"2025-06-27T18:19:33.2070806Z","@mt":"Executing API description provider '{ProviderName}' from assembly {ProviderAssembly} v{AssemblyVersion}.","@l":"Debug","ProviderName":"DefaultApiDescriptionProvider","ProviderAssembly":"Microsoft.AspNetCore.Mvc.ApiExplorer","AssemblyVersion":"9.0.0.0","EventId":{"Id":2,"Name":"ApiDescriptionProviderExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider"}
{"@t":"2025-06-27T18:19:33.2375101Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:19:33.2382673Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:19:33.2388628Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"D:\\DEVHAWKZ\\Projekti\\MailFlow.API\\MailFlow.API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:19:33.2397837Z","@mt":"Hosting started","@l":"Debug","EventId":{"Id":2,"Name":"Started"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2025-06-27T18:19:33.2615464Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHP","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:19:33.2615465Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHO","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:19:33.2654946Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHP","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.2657039Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHO","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.2673695Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHP","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.2675096Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHO","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.2756617Z","@mt":"Failed to authenticate HTTPS connection.","@l":"Debug","@x":"System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.\r\n   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)\r\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)","EventId":{"Id":1,"Name":"AuthenticationFailed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware","ConnectionId":"0HNDLKSL6VIHP"}
{"@t":"2025-06-27T18:19:33.2756964Z","@mt":"Failed to authenticate HTTPS connection.","@l":"Debug","@x":"System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.\r\n   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)\r\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)","EventId":{"Id":1,"Name":"AuthenticationFailed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware","ConnectionId":"0HNDLKSL6VIHO"}
{"@t":"2025-06-27T18:19:33.2819320Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHO","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.2819340Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHP","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.2867927Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKSL6VIHO","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:19:33.2867927Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKSL6VIHP","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:19:33.3946597Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.3957963Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:19:33.4276166Z","@mt":"Connection {ConnectionId} established using the following protocol: {Protocol}","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","Protocol":"Tls13","EventId":{"Id":3,"Name":"HttpsConnectionEstablished"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware"}
{"@t":"2025-06-27T18:19:33.4657753Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000001","RequestPath":"/","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:33.5300810Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","Path":"/","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKSL6VIHQ:00000001","RequestPath":"/","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:33.5413340Z","@mt":"No candidates found for the request path '{Path}'","@l":"Debug","@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","Path":"/","EventId":{"Id":1000,"Name":"CandidatesNotFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKSL6VIHQ:00000001","RequestPath":"/","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:33.5429043Z","@mt":"Request did not match any endpoints","@l":"Debug","@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","EventId":{"Id":2,"Name":"MatchFailure"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKSL6VIHQ:00000001","RequestPath":"/","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:33.5486566Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.8193"],"@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":0.8193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKSL6VIHQ:00000001","RequestId":"0HNDLKSL6VIHQ:00000001","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:33.5634483Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","ElapsedMilliseconds":98.7498,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000001","RequestPath":"/","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:33.5661430Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"aed696b5992f9701a07d4a53c61920c4","@sp":"8f225441525870ae","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000001","RequestPath":"/","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:36.7499847Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:36.7547129Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Path":"/api/gmail/labels","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:36.7589561Z","@mt":"{CandidateCount} candidate(s) found for the request path '{Path}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","CandidateCount":1,"Path":"/api/gmail/labels","EventId":{"Id":1001,"Name":"CandidatesFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:36.7606084Z","@mt":"Endpoint '{Endpoint}' with route pattern '{RoutePattern}' is valid for the request path '{Path}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Endpoint":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RoutePattern":"api/gmail/labels","Path":"/api/gmail/labels","EventId":{"Id":1005,"Name":"CandidateValid"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:36.7628184Z","@mt":"Request matched endpoint '{EndpointName}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"MatchSuccess"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:36.7655136Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7810136Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","RouteData":"{action = \"GetLabels\", controller = \"Gmail\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] GetLabels()","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7831710Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","FilterType":"authorization","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7842019Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","FilterType":"resource","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7856588Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","FilterType":"action","Filters":["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7879066Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","FilterType":"exception","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7894672Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","FilterType":"result","Filters":["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.7915877Z","@mt":"Executing controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":1,"Name":"ControllerFactoryExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.8558528Z","@mt":"An 'IServiceProvider' was created for internal use by Entity Framework.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","EventId":{"Id":10401,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ServiceProviderCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.8785528Z","@mt":"Executed controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":2,"Name":"ControllerFactoryExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:36.8827318Z","@mt":"Starting Gmail labels download and synchronization.","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.3518238Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}:{providerVersion}' with options: {options}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","version":"9.0.5","contextType":"DataContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","providerVersion":"9.0.4","options":"EngineType=SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.4066155Z","@mt":"Compiling query expression: {newline}'{queryExpression}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","newline":"\r\n","queryExpression":"DbSet<GoogleToken>()\r\n    .Where(t => t.UserId == 02d9cd73-990c-437c-827b-fac07e08ba09)\r\n    .AsNoTracking()\r\n    .OrderByDescending(t => t.ExpiresAt)\r\n    .SingleOrDefault()","EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.6116561Z","@mt":"Generated query execution expression: {newline}'{plan}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","newline":"\r\n","plan":"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<GoogleToken>(\r\n    asyncEnumerable: SingleQueryingEnumerable.Create<GoogleToken>(\r\n        relationalQueryContext: (RelationalQueryContext)queryContext, \r\n        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(\r\n            Projection Mapping:\r\n                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: GoogleToken.AccessToken (string) Required, 1], [Property: GoogleToken.ExpiresAt (DateTime) Required, 2], [Property: GoogleToken.RefreshToken (string) Required, 3], [Property: GoogleToken.UserId (Guid) Required FK Index, 4] }\r\n            SELECT TOP(2) g.Id, g.AccessToken, g.ExpiresAt, g.RefreshToken, g.UserId\r\n            FROM GoogleTokens AS g\r\n            WHERE g.UserId == '02d9cd73-990c-437c-827b-fac07e08ba09'\r\n            ORDER BY g.ExpiresAt DESC) | Resolver: c => new RelationalCommandCache(\r\n            c.Dependencies.MemoryCache, \r\n            c.RelationalDependencies.QuerySqlGeneratorFactory, \r\n            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, \r\n            Projection Mapping:\r\n                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: GoogleToken.AccessToken (string) Required, 1], [Property: GoogleToken.ExpiresAt (DateTime) Required, 2], [Property: GoogleToken.RefreshToken (string) Required, 3], [Property: GoogleToken.UserId (Guid) Required FK Index, 4] }\r\n            SELECT TOP(2) g.Id, g.AccessToken, g.ExpiresAt, g.RefreshToken, g.UserId\r\n            FROM GoogleTokens AS g\r\n            WHERE g.UserId == '02d9cd73-990c-437c-827b-fac07e08ba09'\r\n            ORDER BY g.ExpiresAt DESC, \r\n            False, \r\n            new HashSet<string>(\r\n                new string[]{ }, \r\n                StringComparer.Ordinal\r\n            )\r\n        )].GetRelationalCommandTemplate(parameters), \r\n        readerColumns: null, \r\n        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => \r\n        {\r\n            GoogleToken entity;\r\n            entity = \r\n            {\r\n                MaterializationContext materializationContext1;\r\n                IEntityType entityType1;\r\n                GoogleToken instance1;\r\n                materializationContext1 = new MaterializationContext(\r\n                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], \r\n                    queryContext.Context\r\n                );\r\n                instance1 = default(GoogleToken);\r\n                (object)dataReader.GetGuid(0) != null ? \r\n                {\r\n                    ISnapshot shadowSnapshot1;\r\n                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];\r\n                    entityType1 = [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")];\r\n                    instance1 = switch (entityType1)\r\n                    {\r\n                        case [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")]: \r\n                            {\r\n                                return \r\n                                {\r\n                                    GoogleToken instance;\r\n                                    instance = new GoogleToken();\r\n                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);\r\n                                    instance.<AccessToken>k__BackingField = dataReader.GetString(1);\r\n                                    instance.<ExpiresAt>k__BackingField = dataReader.GetDateTime(2);\r\n                                    instance.<RefreshToken>k__BackingField = dataReader.GetString(3);\r\n                                    instance.<UserId>k__BackingField = dataReader.GetGuid(4);\r\n                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(\r\n                                        context: materializationContext1.Context, \r\n                                        entity: instance, \r\n                                        queryTrackingBehavior: NoTracking, \r\n                                        structuralType: [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")]) : default(void);\r\n                                    return instance;\r\n                                }}\r\n                        default: \r\n                            default(GoogleToken)\r\n                    }\r\n                    ;\r\n                    return instance1;\r\n                } : \r\n                {\r\n                    object[] keyValues1;\r\n                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };\r\n                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(\r\n                        entityType: [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")], \r\n                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\").FindPrimaryKey().Properties], \r\n                        keyValues: keyValues1);\r\n                };\r\n                return instance1;\r\n            };\r\n            return entity;\r\n        }, \r\n        contextType: Repository.DataContext, \r\n        standAloneStateManager: False, \r\n        detailedErrorsEnabled: False, \r\n        threadSafetyChecksEnabled: True), \r\n    cancellationToken: queryContext.CancellationToken)","EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.6379710Z","@mt":"Creating DbConnection.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.6521131Z","@mt":"Created DbConnection. ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","elapsed":12,"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.6558957Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.8562767Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.8599561Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.8652203Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","elapsed":3,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.8674489Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","elapsed":7,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.8732041Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.9421347Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","elapsed":"68","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.9566949Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.9620734Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":14,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.9652252Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:37.9694793Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":4,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:48.9973753Z","@mt":"Context '{contextType}' started tracking '{entityType}' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","contextType":"DataContext","entityType":"GoogleToken","EventId":{"Id":10806,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.StartedTracking"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.0007880Z","@mt":"Fetching Gmail API response for path: {Path}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.0037061Z","@mt":"Sending GET request to Gmail API. Path: {Path}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.0082590Z","@mt":"Start processing HTTP request {HttpMethod} {Uri}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.0123020Z","@mt":"Sending HTTP request {HttpMethod} {Uri}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4248339Z","@mt":"Received HTTP response headers after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","ElapsedMilliseconds":409.3308,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4268108Z","@mt":"End processing HTTP request after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","ElapsedMilliseconds":420.5075,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4282297Z","@mt":"Gmail API responded. Status code: {StatusCode}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","StatusCode":"OK","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4361181Z","@mt":"Deserialization completed for Gmail labels.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4419860Z","@mt":"Compiling query expression: {newline}'{queryExpression}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","newline":"\r\n","queryExpression":"DbSet<GmailLabel>()\r\n    .Where(l => l.UserId.Equals(__userId_0))\r\n    .AsNoTracking()\r\n    .Select(l => l.Id)","EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4646079Z","@mt":"Generated query execution expression: {newline}'{plan}'","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","newline":"\r\n","plan":"queryContext => SingleQueryingEnumerable.Create<string>(\r\n    relationalQueryContext: (RelationalQueryContext)queryContext, \r\n    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(\r\n        Projection Mapping:\r\n            EmptyProjectionMember -> 0\r\n        SELECT g.Id\r\n        FROM GmailLabels AS g\r\n        WHERE g.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(\r\n        c.Dependencies.MemoryCache, \r\n        c.RelationalDependencies.QuerySqlGeneratorFactory, \r\n        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, \r\n        Projection Mapping:\r\n            EmptyProjectionMember -> 0\r\n        SELECT g.Id\r\n        FROM GmailLabels AS g\r\n        WHERE g.UserId == @__userId_0, \r\n        False, \r\n        new HashSet<string>(\r\n            new string[]{ }, \r\n            StringComparer.Ordinal\r\n        )\r\n    )].GetRelationalCommandTemplate(parameters), \r\n    readerColumns: null, \r\n    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => \r\n    {\r\n        string value1;\r\n        value1 = dataReader.GetString(0);\r\n        return value1;\r\n    }, \r\n    contextType: Repository.DataContext, \r\n    standAloneStateManager: False, \r\n    detailedErrorsEnabled: False, \r\n    threadSafetyChecksEnabled: True)","EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4697036Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4718036Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4729574Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4741171Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","elapsed":1,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4771561Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","elapsed":4,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.4804378Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.5979906Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","elapsed":"119","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6007076Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6024668Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":2,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6041046Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6055317Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":1,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6097110Z","@mt":"SaveChanges starting for '{contextType}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","contextType":"DataContext","EventId":{"Id":10004,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6127502Z","@mt":"DetectChanges starting for '{contextType}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","contextType":"DataContext","EventId":{"Id":10800,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6194759Z","@mt":"DetectChanges completed for '{contextType}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","contextType":"DataContext","EventId":{"Id":10801,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6658542Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6672358Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6702525Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6714405Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","elapsed":1,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6737151Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","executionType":"ExecuteReader","elapsed":3,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.6751311Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","parameters":"@p4='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [GoogleTokens] SET [AccessToken] = @p0, [ExpiresAt] = @p1, [RefreshToken] = @p2, [UserId] = @p3\r\nOUTPUT 1\r\nWHERE [Id] = @p4;","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7035067Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","elapsed":"28","parameters":"@p4='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [GoogleTokens] SET [AccessToken] = @p0, [ExpiresAt] = @p1, [RefreshToken] = @p2, [UserId] = @p3\r\nOUTPUT 1\r\nWHERE [Id] = @p4;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7091941Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7107056Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":5,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7132317Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7146171Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":1,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7210734Z","@mt":"An entity of type '{entityType}' tracked by '{contextType}' changed state from '{oldState}' to '{newState}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","entityType":"GoogleToken","contextType":"DataContext","oldState":"Modified","newState":"Unchanged","EventId":{"Id":10807,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.StateChanged"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7242831Z","@mt":"SaveChanges completed for '{contextType}' with {savedCount} entities written to the database.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","contextType":"DataContext","savedCount":1,"EventId":{"Id":10005,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7258872Z","@mt":"Successfully synced {Count} labels for UserId: {UserId}.","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","Count":19,"UserId":"02d9cd73-990c-437c-827b-fac07e08ba09","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7293589Z","@mt":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7327847Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","ElapsedMilliseconds":12940.3127,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7344540Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003"}
{"@t":"2025-06-27T18:19:49.7362523Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["12971.1227"],"@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","RequestMethod":"GET","RequestPath":"/api/gmail/labels","StatusCode":200,"Elapsed":12971.1227,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKSL6VIHQ:00000003","RequestId":"0HNDLKSL6VIHQ:00000003","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:49.7410875Z","@mt":"'{contextType}' disposed.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","contextType":"DataContext","EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:49.7450806Z","@mt":"Disposing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:49.7473911Z","@mt":"Disposed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","database":"","server":"","elapsed":2,"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:49.7493510Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"7051f02bcf51b03ec0e77ddaca2fb9aa","@sp":"fdea5dbc7d330458","ElapsedMilliseconds":12999.2822,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:54.8621284Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:54.8670483Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Path":"/api/gmail/labels","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:54.8686954Z","@mt":"{CandidateCount} candidate(s) found for the request path '{Path}'","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","CandidateCount":1,"Path":"/api/gmail/labels","EventId":{"Id":1001,"Name":"CandidatesFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:54.8695437Z","@mt":"Endpoint '{Endpoint}' with route pattern '{RoutePattern}' is valid for the request path '{Path}'","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Endpoint":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RoutePattern":"api/gmail/labels","Path":"/api/gmail/labels","EventId":{"Id":1005,"Name":"CandidateValid"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:54.8704938Z","@mt":"Request matched endpoint '{EndpointName}'","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"MatchSuccess"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:54.8725271Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8736078Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","RouteData":"{action = \"GetLabels\", controller = \"Gmail\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] GetLabels()","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8753145Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","FilterType":"authorization","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8763062Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","FilterType":"resource","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8774891Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","FilterType":"action","Filters":["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8787467Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","FilterType":"exception","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8798382Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","FilterType":"result","Filters":["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8808553Z","@mt":"Executing controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":1,"Name":"ControllerFactoryExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8838547Z","@mt":"Executed controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":2,"Name":"ControllerFactoryExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.8848510Z","@mt":"Starting Gmail labels download and synchronization.","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9284250Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}:{providerVersion}' with options: {options}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","version":"9.0.5","contextType":"DataContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","providerVersion":"9.0.4","options":"EngineType=SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9327669Z","@mt":"Creating DbConnection.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9338814Z","@mt":"Created DbConnection. ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","elapsed":1,"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9345591Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9354103Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9361629Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9367264Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","executionType":"ExecuteReader","elapsed":0,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9373999Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","executionType":"ExecuteReader","elapsed":1,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9382089Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9413137Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9431615Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9440348Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":1,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9451389Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9459117Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":0,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9468646Z","@mt":"Fetching Gmail API response for path: {Path}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9474759Z","@mt":"Sending GET request to Gmail API. Path: {Path}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9481093Z","@mt":"Start processing HTTP request {HttpMethod} {Uri}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:54.9487575Z","@mt":"Sending HTTP request {HttpMethod} {Uri}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.1939062Z","@mt":"Received HTTP response headers after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","ElapsedMilliseconds":244.5165,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.1954241Z","@mt":"End processing HTTP request after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","ElapsedMilliseconds":247.3189,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.1966403Z","@mt":"Gmail API responded. Status code: {StatusCode}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","StatusCode":"OK","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.1979251Z","@mt":"Deserialization completed for Gmail labels.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.1992644Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2006418Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2017957Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2027196Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","executionType":"ExecuteReader","elapsed":0,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2038603Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","executionType":"ExecuteReader","elapsed":2,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2050611Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2071914Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","elapsed":"2","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2095761Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2107598Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":1,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2121059Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2133249Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":1,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2148072Z","@mt":"SaveChanges starting for '{contextType}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","contextType":"DataContext","EventId":{"Id":10004,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2157854Z","@mt":"DetectChanges starting for '{contextType}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","contextType":"DataContext","EventId":{"Id":10800,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2167352Z","@mt":"DetectChanges completed for '{contextType}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","contextType":"DataContext","EventId":{"Id":10801,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2176793Z","@mt":"SaveChanges completed for '{contextType}' with {savedCount} entities written to the database.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","contextType":"DataContext","savedCount":0,"EventId":{"Id":10005,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2188169Z","@mt":"Successfully synced {Count} labels for UserId: {UserId}.","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","Count":19,"UserId":"02d9cd73-990c-437c-827b-fac07e08ba09","SourceContext":"LoggerService.LoggerManager","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2201415Z","@mt":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"b8ee3eab-f216-4d1b-bea5-e9668ae2465c","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2211855Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","ElapsedMilliseconds":340.351,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2226344Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005"}
{"@t":"2025-06-27T18:19:55.2236089Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["351.1179"],"@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","RequestMethod":"GET","RequestPath":"/api/gmail/labels","StatusCode":200,"Elapsed":351.1179,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKSL6VIHQ:00000005","RequestId":"0HNDLKSL6VIHQ:00000005","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:55.2255616Z","@mt":"'{contextType}' disposed.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","contextType":"DataContext","EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:55.2266687Z","@mt":"Disposing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:55.2279387Z","@mt":"Disposed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","database":"","server":"","elapsed":1,"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:19:55.2296834Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"7c4df9c32b86752227875458ecf24122","@sp":"350dcef1537ebe1e","ElapsedMilliseconds":367.5117,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKSL6VIHQ:00000005","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKSL6VIHQ"}
{"@t":"2025-06-27T18:21:36.8869938Z","@mt":"HttpMessageHandler expired after {HandlerLifetime}ms for client '{ClientName}'","@l":"Debug","HandlerLifetime":120000,"ClientName":"IGmailApiClient","EventId":{"Id":103,"Name":"HandlerExpired"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:21:46.9019450Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:21:46.9049573Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.1508,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:21:56.9094726Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:21:56.9105924Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.1031,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:06.9182855Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:06.9193798Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.0038,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:06.9986162Z","@mt":"Connection id \"{ConnectionId}\" is closing.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","EventId":{"Id":36,"Name":"Http2ConnectionClosing"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Http2"}
{"@t":"2025-06-27T18:22:06.9995356Z","@mt":"Connection id \"{ConnectionId}\" is closed. The last processed stream ID was {HighestOpenedStreamId}.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","HighestOpenedStreamId":5,"EventId":{"Id":48,"Name":"Http2ConnectionClosed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Http2"}
{"@t":"2025-06-27T18:22:07.0012886Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:22:07.0023673Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:22:07.0030152Z","@mt":"The connection queue processing loop for {ConnectionId} completed.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","EventId":{"Id":62,"Name":"Http2ConnectionQueueProcessingCompleted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Http2"}
{"@t":"2025-06-27T18:22:07.0051091Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKSL6VIHQ","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:16.9298676Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:16.9308983Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.0038,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:26.9415511Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:26.9426326Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.1141,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:36.9578015Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:36.9586237Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.0038,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:22:54.9809526Z","@mt":"Registered model binder providers, in the following order: {ModelBinderProviders}","@l":"Debug","ModelBinderProviders":["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"],"EventId":{"Id":12,"Name":"RegisteredModelBinderProviders"},"SourceContext":"Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory"}
{"@t":"2025-06-27T18:22:55.0503575Z","@mt":"Hosting starting","@l":"Debug","EventId":{"Id":1,"Name":"Starting"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2025-06-27T18:22:55.0641283Z","@mt":"Middleware loaded","@l":"Debug","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware"}
{"@t":"2025-06-27T18:22:55.0663837Z","@mt":"Middleware loaded. Script {scriptPath} ({size} B).","@l":"Debug","scriptPath":"/_framework/aspnetcore-browser-refresh.js","size":"16509","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware"}
{"@t":"2025-06-27T18:22:55.0680208Z","@mt":"Middleware loaded. Script {scriptPath} ({size} B).","@l":"Debug","scriptPath":"/_framework/blazor-hotreload.js","size":"799","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware"}
{"@t":"2025-06-27T18:22:55.0955343Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"D:\\DEVHAWKZ\\Projekti\\MailFlow.API\\MailFlow.API\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2025-06-27T18:22:55.1023984Z","@mt":"Middleware configuration started with options: {Options}","@l":"Debug","Options":"{AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}","EventId":{"Id":7,"Name":"MiddlewareConfigurationStarted"},"SourceContext":"Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware"}
{"@t":"2025-06-27T18:22:55.1093947Z","@mt":"Wildcard detected, all requests with hosts will be allowed.","@l":"Debug","EventId":{"Name":"WildcardDetected"},"SourceContext":"Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware"}
{"@t":"2025-06-27T18:22:55.1117844Z","@mt":"Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES={ModifiableAssemblies}, __ASPNETCORE_BROWSER_TOOLS={BrowserTools}","@l":"Debug","ModifiableAssemblies":"debug","BrowserTools":"true","SourceContext":"Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware"}
{"@t":"2025-06-27T18:22:55.1706482Z","@mt":"Now listening on: {address}","address":"https://localhost:7222","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:22:55.1718237Z","@mt":"Now listening on: {address}","address":"http://localhost:5037","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:22:55.1723995Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"MailFlow.API","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:22:55.1728386Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.WebTools.ApiEndpointDiscovery","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:22:55.1732612Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.AspNetCore.Watch.BrowserRefresh","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:22:55.1736697Z","@mt":"Loaded hosting startup assembly {assemblyName}","@l":"Debug","assemblyName":"Microsoft.WebTools.BrowserLink.Net","EventId":{"Id":13,"Name":"HostingStartupAssemblyLoaded"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2025-06-27T18:22:55.1795284Z","@mt":"Executing API description provider '{ProviderName}' from assembly {ProviderAssembly} v{AssemblyVersion}.","@l":"Debug","ProviderName":"EndpointMetadataApiDescriptionProvider","ProviderAssembly":"Microsoft.AspNetCore.Mvc.ApiExplorer","AssemblyVersion":"9.0.0.0","EventId":{"Id":2,"Name":"ApiDescriptionProviderExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider"}
{"@t":"2025-06-27T18:22:55.1813617Z","@mt":"Executing API description provider '{ProviderName}' from assembly {ProviderAssembly} v{AssemblyVersion}.","@l":"Debug","ProviderName":"DefaultApiDescriptionProvider","ProviderAssembly":"Microsoft.AspNetCore.Mvc.ApiExplorer","AssemblyVersion":"9.0.0.0","EventId":{"Id":2,"Name":"ApiDescriptionProviderExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider"}
{"@t":"2025-06-27T18:22:55.2151157Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:22:55.2158882Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:22:55.2164703Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"D:\\DEVHAWKZ\\Projekti\\MailFlow.API\\MailFlow.API","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2025-06-27T18:22:55.2170793Z","@mt":"Hosting started","@l":"Debug","EventId":{"Id":2,"Name":"Started"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2025-06-27T18:22:55.6086902Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPI","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.6104099Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPI","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.6155482Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPJ","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.6165870Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPJ","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.6470826Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPI","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:22:55.6470826Z","@mt":"Connection id \"{ConnectionId}\" received FIN.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPJ","EventId":{"Id":6,"Name":"ConnectionReadFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:22:55.6519678Z","@mt":"Failed to authenticate HTTPS connection.","@l":"Debug","@x":"System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.\r\n   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)\r\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)","EventId":{"Id":1,"Name":"AuthenticationFailed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware","ConnectionId":"0HNDLKUHGMVPI"}
{"@t":"2025-06-27T18:22:55.6519677Z","@mt":"Failed to authenticate HTTPS connection.","@l":"Debug","@x":"System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.\r\n   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)\r\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)","EventId":{"Id":1,"Name":"AuthenticationFailed"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware","ConnectionId":"0HNDLKUHGMVPJ"}
{"@t":"2025-06-27T18:22:55.6574343Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPI","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.6575466Z","@mt":"Connection id \"{ConnectionId}\" stopped.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPJ","EventId":{"Id":2,"Name":"ConnectionStop"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.6628142Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKUHGMVPI","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:22:55.6628143Z","@mt":"Connection id \"{ConnectionId}\" sending FIN because: \"{Reason}\"","@l":"Debug","ConnectionId":"0HNDLKUHGMVPJ","Reason":"The Socket transport's send loop completed gracefully.","EventId":{"Id":7,"Name":"ConnectionWriteFin"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets"}
{"@t":"2025-06-27T18:22:55.7953283Z","@mt":"Connection id \"{ConnectionId}\" accepted.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPK","EventId":{"Id":39,"Name":"ConnectionAccepted"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.7969299Z","@mt":"Connection id \"{ConnectionId}\" started.","@l":"Debug","ConnectionId":"0HNDLKUHGMVPK","EventId":{"Id":1,"Name":"ConnectionStart"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Connections"}
{"@t":"2025-06-27T18:22:55.8242427Z","@mt":"Connection {ConnectionId} established using the following protocol: {Protocol}","@l":"Debug","ConnectionId":"0HNDLKUHGMVPK","Protocol":"Tls13","EventId":{"Id":3,"Name":"HttpsConnectionEstablished"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware"}
{"@t":"2025-06-27T18:22:55.8619397Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKUHGMVPK:00000001","RequestPath":"/","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:22:55.9341628Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","Path":"/","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKUHGMVPK:00000001","RequestPath":"/","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:22:55.9440925Z","@mt":"No candidates found for the request path '{Path}'","@l":"Debug","@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","Path":"/","EventId":{"Id":1000,"Name":"CandidatesNotFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKUHGMVPK:00000001","RequestPath":"/","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:22:55.9453614Z","@mt":"Request did not match any endpoints","@l":"Debug","@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","EventId":{"Id":2,"Name":"MatchFailure"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKUHGMVPK:00000001","RequestPath":"/","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:22:55.9503229Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.4800"],"@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":0.48,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKUHGMVPK:00000001","RequestId":"0HNDLKUHGMVPK:00000001","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:22:55.9641681Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","ElapsedMilliseconds":104.1135,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKUHGMVPK:00000001","RequestPath":"/","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:22:55.9666867Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"4fd353562d8c4eeea73496d9750573af","@sp":"aea2324ccbafcea4","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKUHGMVPK:00000001","RequestPath":"/","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:07.5560840Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:07.5610321Z","@mt":"The request path {Path} does not match a supported file type","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Path":"/api/gmail/labels","EventId":{"Id":4,"Name":"FileTypeNotSupported"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:07.5651839Z","@mt":"{CandidateCount} candidate(s) found for the request path '{Path}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","CandidateCount":1,"Path":"/api/gmail/labels","EventId":{"Id":1001,"Name":"CandidatesFound"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:07.5668165Z","@mt":"Endpoint '{Endpoint}' with route pattern '{RoutePattern}' is valid for the request path '{Path}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Endpoint":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RoutePattern":"api/gmail/labels","Path":"/api/gmail/labels","EventId":{"Id":1005,"Name":"CandidateValid"},"SourceContext":"Microsoft.AspNetCore.Routing.Matching.DfaMatcher","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:07.5686392Z","@mt":"Request matched endpoint '{EndpointName}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"MatchSuccess"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:07.5718866Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5862851Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","RouteData":"{action = \"GetLabels\", controller = \"Gmail\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] GetLabels()","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5883171Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","FilterType":"authorization","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5893031Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","FilterType":"resource","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5905501Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","FilterType":"action","Filters":["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5915353Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","FilterType":"exception","Filters":["None"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5923181Z","@mt":"Execution plan of {FilterType} filters (in the following order): {Filters}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","FilterType":"result","Filters":["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"],"EventId":{"Id":1,"Name":"FilterExecutionPlan"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.5942135Z","@mt":"Executing controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":1,"Name":"ControllerFactoryExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.6551475Z","@mt":"An 'IServiceProvider' was created for internal use by Entity Framework.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","EventId":{"Id":10401,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ServiceProviderCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.6768461Z","@mt":"Executed controller factory for controller {Controller} ({AssemblyName})","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Controller":"MailFlow.API.Controllers.GmailController","AssemblyName":"MailFlow.Presentation","EventId":{"Id":2,"Name":"ControllerFactoryExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:07.6805795Z","@mt":"Starting Gmail labels download and synchronization.","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","SourceContext":"LoggerService.LoggerManager","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.0920432Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}:{providerVersion}' with options: {options}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","version":"9.0.5","contextType":"DataContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","providerVersion":"9.0.4","options":"EngineType=SqlServer ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.1458373Z","@mt":"Compiling query expression: {newline}'{queryExpression}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","newline":"\r\n","queryExpression":"DbSet<GoogleToken>()\r\n    .Where(t => t.UserId == 02d9cd73-990c-437c-827b-fac07e08ba09)\r\n    .AsNoTracking()\r\n    .OrderByDescending(t => t.ExpiresAt)\r\n    .SingleOrDefault()","EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.3319502Z","@mt":"Generated query execution expression: {newline}'{plan}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","newline":"\r\n","plan":"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<GoogleToken>(\r\n    asyncEnumerable: SingleQueryingEnumerable.Create<GoogleToken>(\r\n        relationalQueryContext: (RelationalQueryContext)queryContext, \r\n        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(\r\n            Projection Mapping:\r\n                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: GoogleToken.AccessToken (string) Required, 1], [Property: GoogleToken.ExpiresAt (DateTime) Required, 2], [Property: GoogleToken.RefreshToken (string) Required, 3], [Property: GoogleToken.UserId (Guid) Required FK Index, 4] }\r\n            SELECT TOP(2) g.Id, g.AccessToken, g.ExpiresAt, g.RefreshToken, g.UserId\r\n            FROM GoogleTokens AS g\r\n            WHERE g.UserId == '02d9cd73-990c-437c-827b-fac07e08ba09'\r\n            ORDER BY g.ExpiresAt DESC) | Resolver: c => new RelationalCommandCache(\r\n            c.Dependencies.MemoryCache, \r\n            c.RelationalDependencies.QuerySqlGeneratorFactory, \r\n            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, \r\n            Projection Mapping:\r\n                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: GoogleToken.AccessToken (string) Required, 1], [Property: GoogleToken.ExpiresAt (DateTime) Required, 2], [Property: GoogleToken.RefreshToken (string) Required, 3], [Property: GoogleToken.UserId (Guid) Required FK Index, 4] }\r\n            SELECT TOP(2) g.Id, g.AccessToken, g.ExpiresAt, g.RefreshToken, g.UserId\r\n            FROM GoogleTokens AS g\r\n            WHERE g.UserId == '02d9cd73-990c-437c-827b-fac07e08ba09'\r\n            ORDER BY g.ExpiresAt DESC, \r\n            False, \r\n            new HashSet<string>(\r\n                new string[]{ }, \r\n                StringComparer.Ordinal\r\n            )\r\n        )].GetRelationalCommandTemplate(parameters), \r\n        readerColumns: null, \r\n        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => \r\n        {\r\n            GoogleToken entity;\r\n            entity = \r\n            {\r\n                MaterializationContext materializationContext1;\r\n                IEntityType entityType1;\r\n                GoogleToken instance1;\r\n                materializationContext1 = new MaterializationContext(\r\n                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], \r\n                    queryContext.Context\r\n                );\r\n                instance1 = default(GoogleToken);\r\n                (object)dataReader.GetGuid(0) != null ? \r\n                {\r\n                    ISnapshot shadowSnapshot1;\r\n                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];\r\n                    entityType1 = [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")];\r\n                    instance1 = switch (entityType1)\r\n                    {\r\n                        case [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")]: \r\n                            {\r\n                                return \r\n                                {\r\n                                    GoogleToken instance;\r\n                                    instance = new GoogleToken();\r\n                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);\r\n                                    instance.<AccessToken>k__BackingField = dataReader.GetString(1);\r\n                                    instance.<ExpiresAt>k__BackingField = dataReader.GetDateTime(2);\r\n                                    instance.<RefreshToken>k__BackingField = dataReader.GetString(3);\r\n                                    instance.<UserId>k__BackingField = dataReader.GetGuid(4);\r\n                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(\r\n                                        context: materializationContext1.Context, \r\n                                        entity: instance, \r\n                                        queryTrackingBehavior: NoTracking, \r\n                                        structuralType: [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")]) : default(void);\r\n                                    return instance;\r\n                                }}\r\n                        default: \r\n                            default(GoogleToken)\r\n                    }\r\n                    ;\r\n                    return instance1;\r\n                } : \r\n                {\r\n                    object[] keyValues1;\r\n                    keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };\r\n                    return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(\r\n                        entityType: [LIFTABLE Constant: EntityType: GoogleToken | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\")], \r\n                        properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: GoogleToken.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType(\"Entities.Models.GoogleToken\").FindPrimaryKey().Properties], \r\n                        keyValues: keyValues1);\r\n                };\r\n                return instance1;\r\n            };\r\n            return entity;\r\n        }, \r\n        contextType: Repository.DataContext, \r\n        standAloneStateManager: False, \r\n        detailedErrorsEnabled: False, \r\n        threadSafetyChecksEnabled: True), \r\n    cancellationToken: queryContext.CancellationToken)","EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.3580856Z","@mt":"Creating DbConnection.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","EventId":{"Id":20005,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.3717922Z","@mt":"Created DbConnection. ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","elapsed":12,"EventId":{"Id":20006,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.3754572Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.5652612Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.5687053Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.5751538Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","executionType":"ExecuteReader","elapsed":3,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.5779172Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","executionType":"ExecuteReader","elapsed":9,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.5835839Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6520783Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","elapsed":"68","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [g].[Id], [g].[AccessToken], [g].[ExpiresAt], [g].[RefreshToken], [g].[UserId]\r\nFROM [GoogleTokens] AS [g]\r\nWHERE [g].[UserId] = '02d9cd73-990c-437c-827b-fac07e08ba09'\r\nORDER BY [g].[ExpiresAt] DESC","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6671567Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6718056Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":14,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6745003Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6786808Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":3,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6807536Z","@mt":"Fetching Gmail API response for path: {Path}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6826609Z","@mt":"Sending GET request to Gmail API. Path: {Path}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Path":"labels","SourceContext":"LoggerService.LoggerManager","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6854794Z","@mt":"Start processing HTTP request {HttpMethod} {Uri}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestPipelineStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:08.6886186Z","@mt":"Sending HTTP request {HttpMethod} {Uri}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","EventId":{"Id":100,"Name":"RequestStart"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.1964482Z","@mt":"Received HTTP response headers after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","ElapsedMilliseconds":505.2972,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.ClientHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.1984920Z","@mt":"End processing HTTP request after {ElapsedMilliseconds}ms - {StatusCode}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","ElapsedMilliseconds":513.7122,"StatusCode":200,"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"SourceContext":"System.Net.Http.HttpClient.IGmailApiClient.LogicalHandler","HttpMethod":"GET","Uri":"https://gmail.googleapis.com/gmail/v1/users/me/labels","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","Scope":["HTTP GET https://gmail.googleapis.com/gmail/v1/users/me/labels"],"X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.1998465Z","@mt":"Gmail API responded. Status code: {StatusCode}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","StatusCode":"OK","SourceContext":"LoggerService.LoggerManager","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2076606Z","@mt":"Deserialization completed for Gmail labels.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","SourceContext":"LoggerService.LoggerManager","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2153892Z","@mt":"Compiling query expression: {newline}'{queryExpression}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","newline":"\r\n","queryExpression":"DbSet<GmailLabel>()\r\n    .Where(l => l.UserId.Equals(__userId_0))\r\n    .AsNoTracking()\r\n    .Select(l => l.Id)","EventId":{"Id":10111,"Name":"Microsoft.EntityFrameworkCore.Query.QueryCompilationStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2437475Z","@mt":"Generated query execution expression: {newline}'{plan}'","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","newline":"\r\n","plan":"queryContext => SingleQueryingEnumerable.Create<string>(\r\n    relationalQueryContext: (RelationalQueryContext)queryContext, \r\n    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(\r\n        Projection Mapping:\r\n            EmptyProjectionMember -> 0\r\n        SELECT g.Id\r\n        FROM GmailLabels AS g\r\n        WHERE g.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(\r\n        c.Dependencies.MemoryCache, \r\n        c.RelationalDependencies.QuerySqlGeneratorFactory, \r\n        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, \r\n        Projection Mapping:\r\n            EmptyProjectionMember -> 0\r\n        SELECT g.Id\r\n        FROM GmailLabels AS g\r\n        WHERE g.UserId == @__userId_0, \r\n        False, \r\n        new HashSet<string>(\r\n            new string[]{ }, \r\n            StringComparer.Ordinal\r\n        )\r\n    )].GetRelationalCommandTemplate(parameters), \r\n    readerColumns: null, \r\n    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => \r\n    {\r\n        string value1;\r\n        value1 = dataReader.GetString(0);\r\n        return value1;\r\n    }, \r\n    contextType: Repository.DataContext, \r\n    standAloneStateManager: False, \r\n    detailedErrorsEnabled: False, \r\n    threadSafetyChecksEnabled: True)","EventId":{"Id":10107,"Name":"Microsoft.EntityFrameworkCore.Query.QueryExecutionPlanned"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2485299Z","@mt":"Opening connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20000,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpening"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2502693Z","@mt":"Opened connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20001,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionOpened"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2513412Z","@mt":"Creating DbCommand for '{executionType}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","executionType":"ExecuteReader","EventId":{"Id":20103,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreating"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2524049Z","@mt":"Created DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","executionType":"ExecuteReader","elapsed":1,"EventId":{"Id":20104,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2556730Z","@mt":"Initialized DbCommand for '{executionType}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","executionType":"ExecuteReader","elapsed":4,"EventId":{"Id":20106,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2587641Z","@mt":"Executing DbCommand [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20100,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuting"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2745351Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","elapsed":"17","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id]\r\nFROM [GmailLabels] AS [g]\r\nWHERE [g].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2768795Z","@mt":"Closing data reader to '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20301,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2787614Z","@mt":"A data reader for '{database}' on server '{server}' is being disposed after spending {elapsed}ms reading results.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":2,"EventId":{"Id":20300,"Name":"Microsoft.EntityFrameworkCore.Database.Command.DataReaderDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2801379Z","@mt":"Closing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20002,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2810892Z","@mt":"Closed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","elapsed":0,"EventId":{"Id":20003,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionClosed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2936158Z","@mt":"SaveChanges starting for '{contextType}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","contextType":"DataContext","EventId":{"Id":10004,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2964667Z","@mt":"DetectChanges starting for '{contextType}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","contextType":"DataContext","EventId":{"Id":10800,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesStarting"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.2990008Z","@mt":"DetectChanges completed for '{contextType}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","contextType":"DataContext","EventId":{"Id":10801,"Name":"Microsoft.EntityFrameworkCore.ChangeTracking.DetectChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.ChangeTracking","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.3039789Z","@mt":"SaveChanges completed for '{contextType}' with {savedCount} entities written to the database.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","contextType":"DataContext","savedCount":0,"EventId":{"Id":10005,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesCompleted"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.3051412Z","@mt":"Successfully synced {Count} labels for UserId: {UserId}.","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","Count":19,"UserId":"02d9cd73-990c-437c-827b-fac07e08ba09","SourceContext":"LoggerService.LoggerManager","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.3083506Z","@mt":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"0a42ae8d-5786-4380-bd39-e30e4eb24f9d","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.3116106Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","ActionName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","ElapsedMilliseconds":1716.3353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.3129426Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","EndpointName":"MailFlow.API.Controllers.GmailController.GetLabels (MailFlow.Presentation)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK","X-Correlation-ID":"0HNDLKUHGMVPK:00000003"}
{"@t":"2025-06-27T18:23:09.3141506Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1742.8649"],"@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","RequestMethod":"GET","RequestPath":"/api/gmail/labels","StatusCode":200,"Elapsed":1742.8649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","X-Correlation-ID":"0HNDLKUHGMVPK:00000003","RequestId":"0HNDLKUHGMVPK:00000003","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:09.3180700Z","@mt":"'{contextType}' disposed.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","contextType":"DataContext","EventId":{"Id":10407,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:09.3240970Z","@mt":"Disposing connection to database '{database}' on server '{server}'.","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"MailFlowDb","server":"PAVLE\\SQLEXPRESS01","EventId":{"Id":20007,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposing"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:09.3275049Z","@mt":"Disposed connection to database '{database}' on server '{server}' ({elapsed}ms).","@l":"Debug","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","database":"","server":"","elapsed":3,"EventId":{"Id":20008,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionDisposed"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:23:09.3295039Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"a5abf436437b17d946436751b5026464","@sp":"e75256b6a2a1f0e7","ElapsedMilliseconds":1773.3368,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7222","PathBase":"","Path":"/api/gmail/labels","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDLKUHGMVPK:00000003","RequestPath":"/api/gmail/labels","ConnectionId":"0HNDLKUHGMVPK"}
{"@t":"2025-06-27T18:25:07.6850683Z","@mt":"HttpMessageHandler expired after {HandlerLifetime}ms for client '{ClientName}'","@l":"Debug","HandlerLifetime":120000,"ClientName":"IGmailApiClient","EventId":{"Id":103,"Name":"HandlerExpired"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:25:17.6928945Z","@mt":"Starting HttpMessageHandler cleanup cycle with {InitialCount} items","@l":"Debug","InitialCount":1,"EventId":{"Id":100,"Name":"CleanupCycleStart"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
{"@t":"2025-06-27T18:25:17.6959388Z","@mt":"Ending HttpMessageHandler cleanup cycle after {ElapsedMilliseconds}ms - processed: {DisposedCount} items - remaining: {RemainingItems} items","@l":"Debug","ElapsedMilliseconds":0.1161,"DisposedCount":0,"RemainingItems":1,"EventId":{"Id":101,"Name":"CleanupCycleEnd"},"SourceContext":"Microsoft.Extensions.Http.DefaultHttpClientFactory"}
